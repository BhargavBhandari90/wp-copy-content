!function(t){var e=t("#wcc_post_title"),n=0,o=t("#wcc_fetch_button");t.fn.wpPostSuggest=function(e){var o,c=t(this);e=e||{},e=t.extend({source:function(e,a){t("#wpcc-notice-element").length>0&&t("#wpcc-notice-element").remove(),t.post(ajaxurl,{action:"wpcc_find_posts",ps:c.val(),_ajax_nonce:t("#_ajax_nonce").val(),dataType:"json"}).always(function(){c.removeClass("ui-autocomplete-loading")}).done(function(e){var c=[];e.success?(e.data.map(t=>{var e=++n;c.push({id:e,post_id:t.ID,name:t.post_title})}),o=c,a(c)):t("#wpcc-spiner").after('<div id="wpcc-notice-element" class="error">'+e.data+"</div>")})},focus:function(t,e){c.attr("aria-activedescendant","wp-tags-autocomplete-"+e.item.id),t.preventDefault()},select:function(e,n){return c.val(n.item.name),t("#wcc_post_id").val(n.item.post_id),t("#wcc_fetch_button").show(),!1},open:function(){c.attr("aria-expanded","true")},close:function(){c.attr("aria-expanded","false")},minLength:2,position:{my:"left top+2",at:"left bottom",collision:"none"},messages:{noResults:window.uiAutocompleteL10n.noResults,results:function(t){return t>1?window.uiAutocompleteL10n.manyResults.replace("%d",t):window.uiAutocompleteL10n.oneResult}}},e),c.on("keydown",function(){c.removeAttr("aria-activedescendant")}).autocomplete(e).autocomplete("instance")._renderItem=function(e,n){return t('<li role="option" data-post-id="'+n.post_id+'" id="wp-tags-autocomplete-'+n.id+'">').text(n.name).appendTo(e)},c.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":c.autocomplete("widget").attr("id")}).on("focus",function(){c.val()&&c.autocomplete("search")})},t.fn.wpCopyContent=function(e){t(this).on("click",function(e){var n=t("#wcc_post_id").val();t("#wpcc-spiner").attr("style","visibility:visible"),t("#wpcc-notice-element").length>0&&t("#wpcc-notice-element").remove(),t.post(window.ajaxurl,{action:"wpcc_copy_from_post",pid:n,_ajax_nonce:t("#_ajax_nonce").val(),dataType:"json"}).done(function(e){e.success?(tinyMCE.activeEditor.setContent(e.data),t("#wcc_post_id").val(0),t("#wcc_fetch_button").hide()):t("#wpcc-spiner").after('<div id="wpcc-notice-element" class="error">'+e.data+"</div>"),t("#wpcc-spiner").hide()})})},t(e).wpPostSuggest(),t(o).wpCopyContent()}(jQuery);