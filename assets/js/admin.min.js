(n=>{var o=n("#wcc_post_title"),a=0,t=n("#wcc_fetch_button");n.fn.wpPostSuggest=function(t){var o=n(this);t=t||{},t=n.extend({source:function(t,e){0<n("#wpcc-notice-element").length&&n("#wpcc-notice-element").remove(),n.post(ajaxurl,{action:"wpcc_find_posts",ps:o.val(),_ajax_nonce:n("#_ajax_nonce").val(),dataType:"json"}).always(function(){o.removeClass("ui-autocomplete-loading")}).done(function(t){var o=[];t.success?(t.data.map(t=>{var e=++a;o.push({id:e,post_id:t.ID,name:t.post_title})}),e(o)):n("#wpcc-spiner").after('<div id="wpcc-notice-element" class="error">'+t.data+"</div>")})},focus:function(t,e){o.attr("aria-activedescendant","wp-tags-autocomplete-"+e.item.id),t.preventDefault()},select:function(t,e){return o.val(e.item.name),n("#wcc_post_id").val(e.item.post_id),n("#wcc_fetch_button").show(),!1},open:function(){o.attr("aria-expanded","true")},close:function(){o.attr("aria-expanded","false")},minLength:2,position:{my:"left top+2",at:"left bottom",collision:"none"},messages:{noResults:window.uiAutocompleteL10n.noResults,results:function(t){return 1<t?window.uiAutocompleteL10n.manyResults.replace("%d",t):window.uiAutocompleteL10n.oneResult}}},t),o.on("keydown",function(){o.removeAttr("aria-activedescendant")}).autocomplete(t).autocomplete("instance")._renderItem=function(t,e){return n('<li role="option" data-post-id="'+e.post_id+'" id="wp-tags-autocomplete-'+e.id+'">').text(e.name).appendTo(t)},o.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":o.autocomplete("widget").attr("id")}).on("focus",function(){o.val()&&o.autocomplete("search")})},n.fn.wpCopyContent=function(t){n(this).on("click",function(t){var e=n("#wcc_post_id").val();n("#wpcc-spiner").attr("style","visibility:visible"),0<n("#wpcc-notice-element").length&&n("#wpcc-notice-element").remove(),n.post(window.ajaxurl,{action:"wpcc_copy_from_post",pid:e,_ajax_nonce:n("#_ajax_nonce").val(),dataType:"json"}).done(function(t){t.success?("undefined"!=typeof wp&&wp.data&&wp.data.select("core/editor")?wp.data.dispatch("core/editor").editPost({content:t.data}):tinyMCE.activeEditor.setContent(t.data),n("#wcc_post_id").val(0),n(o).val(""),n("#wcc_fetch_button").hide()):n("#wpcc-spiner").after('<div id="wpcc-notice-element" class="error">'+t.data+"</div>"),n("#wpcc-spiner").hide()})})},0<n(o).length&&n(o).wpPostSuggest(),0<n(t).length&&n(t).wpCopyContent()})(jQuery);